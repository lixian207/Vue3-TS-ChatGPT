var pe=Object.defineProperty;var ge=(e,o,l)=>o in e?pe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l;var j=(e,o,l)=>(ge(e,typeof o!="symbol"?o+"":o,l),l);import{o as d,c as m,aj as me,ak as we,a,C as be,r as g,w as fe,Y as he,n as S,f as ve,u as r,L as I,S as p,Q as h,M as N,ab as O,x as Q,ac as ye,s as je,al as z,U as ke,P as Y,a9 as U}from"./@vue.14a7b677.js";import{_ as xe}from"./index.ccd5395f.js";import{C as B}from"./crypto-js.6aa1dd77.js";import{E as D,a as C,b as G,c as Se,d as ze,e as Ce}from"./element-plus.d2cfb5b0.js";import{H as v,j as De}from"./highlight.js.30476f39.js";import{m as X,R as Ee}from"./marked.33bc162c.js";import"./vue-router.59776677.js";import"./@element-plus.df50e9cf.js";import"./@ctrl.b082b0c1.js";import"./@vueuse.f2d0f84a.js";import"./@popperjs.36402333.js";import"./lodash-es.6aaf5ee5.js";const Be="/Vue3-TS-ChatGPT/assets/3.c13c7547.svg",T=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),$=[{role:"system",content:"You are ChatGPT, Please answer my questions in a simple, easy-to-understand, and detailed manner. Please prioritize Chinese answers and provide straightforward examples when answering questions as much as possible."},{role:"assistant",content:"\u4F60\u597D\uFF0C\u6211\u662F\u795E\u5947\u6D77\u87BA\uFF0C\u6B22\u8FCE\u63D0\u95EE"}],k=class{constructor(){j(this,"dbName","ChatAppDB");j(this,"objectStoreName","chatRecords");j(this,"chatRecordKey","chatRecordKey");j(this,"isIndexedDBSupported","indexedDB"in window)}static getInstance(){return k.instance||(k.instance=new k),k.instance}initDB(){return new Promise((o,l)=>{const s=indexedDB.open(this.dbName,1);s.onerror=u=>{l("Failed to open IndexedDB")},s.onsuccess=u=>{o(u.target.result)},s.onupgradeneeded=u=>{const _=u.target.result;_.objectStoreNames.contains(this.objectStoreName)||_.createObjectStore(this.objectStoreName)}})}async saveChatRecord(o){this.isIndexedDBSupported?(await this.initDB()).transaction([this.objectStoreName],"readwrite").objectStore(this.objectStoreName).put(o,this.chatRecordKey):localStorage.setItem(this.chatRecordKey,JSON.stringify(o))}async getChatRecord(){if(this.isIndexedDBSupported){const o=await this.initDB();return new Promise((l,s)=>{const w=o.transaction([this.objectStoreName]).objectStore(this.objectStoreName).get(this.chatRecordKey);w.onerror=M=>{s("Failed to fetch record from IndexedDB")},w.onsuccess=M=>{l(w.result)}})}else{const o=localStorage.getItem(this.chatRecordKey);return o?JSON.parse(o):null}}async deleteChatRecord(){this.isIndexedDBSupported?(await this.initDB()).transaction([this.objectStoreName],"readwrite").objectStore(this.objectStoreName).delete(this.chatRecordKey):localStorage.removeItem(this.chatRecordKey)}};let E=k;j(E,"instance");const Fe={},Me=e=>(me("data-v-0afe7f66"),e=e(),we(),e),Re={class:"com__box"},Ke=Me(()=>a("div",{class:"loading"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")],-1)),Ve=[Ke];function Ie(e,o){return d(),m("div",Re,Ve)}const Ne=xe(Fe,[["render",Ie],["__scopeId","data-v-0afe7f66"]]);async function Te(e,o,l){try{return{status:"success",data:(await fetch("https://api.openai.com/v1/chat/completions",{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:l,stream:!0,messages:e})})).body}}catch(s){return{status:"error",message:s}}}const ee="SuMingcheng";B.enc.Utf8.parse("ThisIsAnIV123456");function qe(e){return B.AES.encrypt(e,ee).toString()}function Ae(e){return e==null?"":B.AES.decrypt(e,ee).toString(B.enc.Utf8)}const Le=new TextDecoder("utf-8"),W={get(e){return Ae(window.localStorage.getItem(e))},set(e,o){window.localStorage.setItem(e,qe(o))},remove(e){window.localStorage.removeItem(e)}};function Pe(){return{getKey:()=>{const l=W.get("apiKey");return l===null?"":l},setKey:l=>W.set("apiKey",l)}}const He=e=>{if(e)scrollTo(0,e.scrollHeight);else return},Je=e=>{navigator.clipboard.writeText(e).then(function(){D({message:"\u5DF2\u590D\u5236",type:"success"})},function(o){console.error("\u65E0\u6CD5\u590D\u5236\u6587\u672C: ",o)})},Z=()=>{const e=document.getElementsByClassName("copyNode");Array.from(e).forEach(l=>{l.copyAction&&l.removeEventListener("click",l.copyAction),l.copyAction=()=>{Je(l.nextSibling.textContent)},l.addEventListener("click",l.copyAction)})},F=new Ee;v.registerLanguage("javascript",De);F.text=function(e){return e.startsWith("$")&&e.endsWith("$")?`<span class='math'>${e.slice(1,-1)}</span>`:e};F.paragraph=function(e){return e.startsWith("$$")&&e.endsWith("$$")?`<div class='math'>${e.slice(2,-2)}</div>`:"<p>"+e+`</p>
`};F.code=function(e,o){const s=!!(o&&v.getLanguage(o))?v.highlight(e,{language:o}).value:v.highlightAuto(e).value;return`<pre class='clearfix'><button class='copyNode'>Copy</button><code  class='${o} hljs'>${s}</code></pre>
`};X.setOptions({renderer:F,highlight:function(e,o){return o&&v.getLanguage(o)?v.highlight(o,e).value:v.highlightAuto(e).value}});const Oe=e=>X(e),Qe=[{id:"whisper-1",object:"model",created:1677532384,owned_by:"openai-internal",permission:[{id:"modelperm-KlsZlfft3Gma8pI6A8rTnyjs",object:"model_permission",created:1683912666,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"whisper-1",parent:null},{id:"babbage",object:"model",created:1649358449,owned_by:"openai",permission:[{id:"modelperm-49FUp5v084tBB49tC4z8LPH5",object:"model_permission",created:1669085501,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"babbage",parent:null},{id:"davinci",object:"model",created:1649359874,owned_by:"openai",permission:[{id:"modelperm-U6ZwlyAd0LyMk4rcMdz33Yc3",object:"model_permission",created:1669066355,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"davinci",parent:null},{id:"text-davinci-edit-001",object:"model",created:1649809179,owned_by:"openai",permission:[{id:"modelperm-otmQSS0hmabtVGHI9QB3bct3",object:"model_permission",created:1679934178,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-davinci-edit-001",parent:null},{id:"babbage-code-search-code",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-4qRnA3Hj8HIJbgo0cGbcmErn",object:"model_permission",created:1669085863,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"babbage-code-search-code",parent:null},{id:"text-similarity-babbage-001",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-48kcCHhfzvnfY84OtJf5m8Cz",object:"model_permission",created:1669081947,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-similarity-babbage-001",parent:null},{id:"code-davinci-edit-001",object:"model",created:1649880484,owned_by:"openai",permission:[{id:"modelperm-Foe5Y4TvaKveYxt74oKMw8IB",object:"model_permission",created:1679934178,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"code-davinci-edit-001",parent:null},{id:"text-davinci-001",object:"model",created:1649364042,owned_by:"openai",permission:[{id:"modelperm-MVM5NfoRjXkDve3uQW3YZDDt",object:"model_permission",created:1669066355,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-davinci-001",parent:null},{id:"ada",object:"model",created:1649357491,owned_by:"openai",permission:[{id:"modelperm-u0nKN4ub7EVQudgMuvCuvDjc",object:"model_permission",created:1675997661,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"ada",parent:null},{id:"babbage-code-search-text",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-Lftf8H4ZPDxNxVs0hHPJBUoe",object:"model_permission",created:1669085863,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"babbage-code-search-text",parent:null},{id:"babbage-similarity",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-mS20lnPqhebTaFPrcCufyg7m",object:"model_permission",created:1669081947,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"babbage-similarity",parent:null},{id:"code-search-babbage-text-001",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-EC5ASz4NLChtEV1Cwkmrwm57",object:"model_permission",created:1669085863,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"code-search-babbage-text-001",parent:null},{id:"text-curie-001",object:"model",created:1649364043,owned_by:"openai",permission:[{id:"modelperm-8InhPV3CZfN3F5QHKoJd4zRD",object:"model_permission",created:1679310997,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-curie-001",parent:null},{id:"gpt-3.5-turbo-16k-0613",object:"model",created:1685474247,owned_by:"openai",permission:[{id:"modelperm-RizYeOCRqav9e70KnCJXhMlS",object:"model_permission",created:1686675077,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"gpt-3.5-turbo-16k-0613",parent:null},{id:"code-search-babbage-code-001",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-64LWHdlANgak2rHzc3K5Stt0",object:"model_permission",created:1669085864,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"code-search-babbage-code-001",parent:null},{id:"text-ada-001",object:"model",created:1649364042,owned_by:"openai",permission:[{id:"modelperm-KN5dRBCEW4az6gwcGXkRkMwK",object:"model_permission",created:1669088497,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-ada-001",parent:null},{id:"text-similarity-ada-001",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-DdCqkqmORpqxqdg4TkFRAgmw",object:"model_permission",created:1669092759,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-similarity-ada-001",parent:null},{id:"curie-instruct-beta",object:"model",created:1649364042,owned_by:"openai",permission:[{id:"modelperm-bsg59MlOi88CMf1MjnIKrT5a",object:"model_permission",created:1680267269,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"curie-instruct-beta",parent:null},{id:"ada-code-search-code",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-wa8tg4Pi9QQNaWdjMTM8dkkx",object:"model_permission",created:1669087421,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"ada-code-search-code",parent:null},{id:"ada-similarity",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-LtSIwCEReeDcvGTmM13gv6Fg",object:"model_permission",created:1669092759,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"ada-similarity",parent:null},{id:"code-search-ada-text-001",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-JBssaJSmbgvJfTkX71y71k2J",object:"model_permission",created:1669087421,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"code-search-ada-text-001",parent:null},{id:"text-search-ada-query-001",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-1YiiBMYC8it0mpQCBK7t8uSP",object:"model_permission",created:1669092640,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-ada-query-001",parent:null},{id:"davinci-search-document",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-M43LVJQRGxz6ode34ctLrCaG",object:"model_permission",created:1669066355,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"davinci-search-document",parent:null},{id:"ada-code-search-text",object:"model",created:1651172510,owned_by:"openai-dev",permission:[{id:"modelperm-kFc17wOI4d1FjZEaCqnk4Frg",object:"model_permission",created:1669087421,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"ada-code-search-text",parent:null},{id:"text-search-ada-doc-001",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-kbHvYouDlkD78ehcmMOGdKpK",object:"model_permission",created:1669092640,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-ada-doc-001",parent:null},{id:"davinci-instruct-beta",object:"model",created:1649364042,owned_by:"openai",permission:[{id:"modelperm-k9kuMYlfd9nvFiJV2ug0NWws",object:"model_permission",created:1669066356,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"davinci-instruct-beta",parent:null},{id:"text-similarity-curie-001",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-6dgTTyXrZE7d53Licw4hYkvd",object:"model_permission",created:1669079883,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-similarity-curie-001",parent:null},{id:"code-search-ada-code-001",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-8soch45iiGvux5Fg1ORjdC4s",object:"model_permission",created:1669087421,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"code-search-ada-code-001",parent:null},{id:"ada-search-query",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-b753xmIzAUkluQ1L20eDZLtQ",object:"model_permission",created:1669092640,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"ada-search-query",parent:null},{id:"text-search-davinci-query-001",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-9McKbsEYSaDshU9M3bp6ejUb",object:"model_permission",created:1669066353,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-davinci-query-001",parent:null},{id:"curie-search-query",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-sIbfSwzVpVBtymQgOQSLBpxe",object:"model_permission",created:1677273417,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"curie-search-query",parent:null},{id:"davinci-search-query",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-lYkiTZMmJMWm8jvkPx2duyHE",object:"model_permission",created:1669066353,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"davinci-search-query",parent:null},{id:"babbage-search-document",object:"model",created:1651172510,owned_by:"openai-dev",permission:[{id:"modelperm-5qFV9kxCRGKIXpBEP75chmp7",object:"model_permission",created:1669084981,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"babbage-search-document",parent:null},{id:"ada-search-document",object:"model",created:1651172507,owned_by:"openai-dev",permission:[{id:"modelperm-8qUMuMAbo4EwedbGamV7e9hq",object:"model_permission",created:1669092640,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"ada-search-document",parent:null},{id:"text-search-curie-query-001",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-Iion0NCpsXPNtIkQ0owQLi7V",object:"model_permission",created:1677273417,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-curie-query-001",parent:null},{id:"text-search-babbage-doc-001",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-ao2r26P2Th7nhRFleHwy2gn5",object:"model_permission",created:1669084981,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-babbage-doc-001",parent:null},{id:"curie-search-document",object:"model",created:1651172508,owned_by:"openai-dev",permission:[{id:"modelperm-LDsN5wW8eKVuh1OsyciHntE9",object:"model_permission",created:1677273417,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"curie-search-document",parent:null},{id:"text-search-curie-doc-001",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-taUGRSku7bQLa24SNIwYPEsi",object:"model_permission",created:1677273417,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-curie-doc-001",parent:null},{id:"babbage-search-query",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-wSs1hMXDKsrcErlbN8HmzlLE",object:"model_permission",created:1669084981,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"babbage-search-query",parent:null},{id:"text-babbage-001",object:"model",created:1649364043,owned_by:"openai",permission:[{id:"modelperm-a3Ph5FIBbJxsoA4wvx7VYC7R",object:"model_permission",created:1675105935,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-babbage-001",parent:null},{id:"text-search-davinci-doc-001",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-qhSf1j2MJMujcu3t7cHnF1DN",object:"model_permission",created:1669066353,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-davinci-doc-001",parent:null},{id:"text-embedding-ada-002",object:"model",created:1671217299,owned_by:"openai-internal",permission:[{id:"modelperm-Zn6DCHbetWQvnEAkktCo6UDP",object:"model_permission",created:1686354304,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-embedding-ada-002",parent:null},{id:"text-search-babbage-query-001",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-Kg70kkFxD93QQqsVe4Zw8vjc",object:"model_permission",created:1669084981,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-search-babbage-query-001",parent:null},{id:"curie-similarity",object:"model",created:1651172510,owned_by:"openai-dev",permission:[{id:"modelperm-zhWKExSloaQiJgzjVHFmh2wR",object:"model_permission",created:1675106290,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"curie-similarity",parent:null},{id:"curie",object:"model",created:1649359874,owned_by:"openai",permission:[{id:"modelperm-oPaljeveTjEIDbhDjzFiyf4V",object:"model_permission",created:1675106503,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"curie",parent:null},{id:"text-similarity-davinci-001",object:"model",created:1651172505,owned_by:"openai-dev",permission:[{id:"modelperm-OvmcfYoq5V9SF9xTYw1Oz6Ue",object:"model_permission",created:1669066356,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-similarity-davinci-001",parent:null},{id:"text-davinci-002",object:"model",created:1649880484,owned_by:"openai",permission:[{id:"modelperm-l4EU6QlN1HcS0so0jU16kyg8",object:"model_permission",created:1679355287,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-davinci-002",parent:null},{id:"gpt-3.5-turbo",object:"model",created:1677610602,owned_by:"openai",permission:[{id:"modelperm-vXDJwtFoZKeqgwuG1i0eRjFl",object:"model_permission",created:1686673921,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"gpt-3.5-turbo",parent:null},{id:"text-davinci-003",object:"model",created:1669599635,owned_by:"openai-internal",permission:[{id:"modelperm-OCpZQfjQpoXnuT1DcEr3TtVy",object:"model_permission",created:1686222972,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"text-davinci-003",parent:null},{id:"davinci-similarity",object:"model",created:1651172509,owned_by:"openai-dev",permission:[{id:"modelperm-lYYgng3LM0Y97HvB5CDc8no2",object:"model_permission",created:1669066353,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!0,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"davinci-similarity",parent:null},{id:"gpt-3.5-turbo-0301",object:"model",created:1677649963,owned_by:"openai",permission:[{id:"modelperm-fgf5WqG21QM7pnaHHZRhsqfb",object:"model_permission",created:1686673945,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"gpt-3.5-turbo-0301",parent:null},{id:"gpt-3.5-turbo-16k",object:"model",created:1683758102,owned_by:"openai-internal",permission:[{id:"modelperm-iSLMWKwNcv96M7wUdUk1Xof5",object:"model_permission",created:1686675077,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"gpt-3.5-turbo-16k",parent:null},{id:"gpt-3.5-turbo-0613",object:"model",created:1686587434,owned_by:"openai",permission:[{id:"modelperm-8YthtkHdp9i12DHY5PdCjV61",object:"model_permission",created:1686675077,allow_create_engine:!1,allow_sampling:!0,allow_logprobs:!0,allow_search_indices:!1,allow_view:!0,allow_fine_tuning:!1,organization:"*",group:null,is_blocking:!1}],root:"gpt-3.5-turbo-0613",parent:null},{id:"gpt-4"},{id:"gpt-4-0314"},{id:"gpt-4-0613"},{id:"gpt-4-32k"},{id:"gpt-4-32k-0314"},{id:"gpt-4-32k-0613"}],Ye={class:"flex flex-col h-screen relative"},Ue={class:"flex flex-nowrap fixed w-full items-baseline top-0 px-6 py-4 bgColor z-50"},Ge=a("div",{class:"text-2xl font-bold text-white"},"\u795E\u5947\u6D77\u87BA",-1),$e={key:0,class:"ml-4 text-sm text-white"},We=a("img",{loading:"lazy",src:"https://img.shields.io/github/stars/sumingcheng/Vue3-TS-ChatGPT?logo=github",alt:"GitHub"},null,-1),Ze=[We],Xe={class:"flex-1 mt-16 content",ref:"observedDiv"},eo={class:"font-bold mb-3 text-lg"},oo=["innerHTML"],lo={class:"sticky w-full p-6 bgColor bottom-0"},ao={class:"flex items-center"},to=a("img",{src:Be,alt:"\u8FD4\u56DE\u5E95\u90E8"},null,-1),io=[to],no={class:"bottom-0 w-full p-6 pb-8"},ro={class:"flex items-center"},so=a("span",{class:"w-1/6 font-bold"},"API Key",-1),co={class:"flex items-center mt-5"},uo=a("span",{class:"w-1/6 font-bold"},"\u7248\u672C",-1),So=be({__name:"home",setup(e){const o=E.getInstance(),{getKey:l,setKey:s}=Pe(),u=g(null),_=g(!1),w=g(),M={user:"ME",assistant:"Magic Conch",system:"System"},c=g($),R=g("gpt-3.5-turbo");let K=g(!1),y=g(""),b=g("");const oe=g(!1),q=()=>{window.MathJax?le():setTimeout(q,100)},le=()=>{je(()=>{c.value.forEach(n=>{n.content&&n.content.includes("$")&&S(()=>{window.MathJax.typesetPromise()})})})},ae=()=>{if(!b.value){D({message:"\u8BF7\u8F93\u5165API Key",type:"warning"});return}s(b.value),D({message:"\u4FDD\u5B58\u6210\u529F",type:"success"}),_.value=!1},te=()=>{y.value=""},A=n=>{c.value[c.value.length-1].content+=n},ie=async n=>{const i=n.data.getReader();await L(i)},L=async n=>{const{done:i,value:x}=await n.read();if(i){n.closed;return}const f=Le.decode(x).match(/data: \s*({.*?}]})/g);f==null||f.forEach(t=>{var J;const ue=t.replace("data: ",""),_e=JSON.parse(ue);A((J=_e.choices[0].delta.content)!=null?J:"")}),await L(n)},P=async(n=y.value)=>{if(!n){D({message:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"info"});return}K.value=!0,c.value.length===2&&c.value.pop(),c.value.push({role:"user",content:n}),te(),c.value.push({role:"assistant",content:""});const i=await Te(c.value,l(),R.value);i.status==="success"&&i.data?await ie(i):A(i.message),K.value=!1,H();const x=JSON.stringify(c.value),f=JSON.parse(x);o.saveChatRecord(f).then(()=>{console.log("Chat records saved successfully!")})},H=()=>{S(()=>{u.value&&u.value.focus()})},ne=()=>{_.value=!0;let n=l();n&&(b.value=n)},re=()=>{window.open("https://github.com/sumingcheng/Vue3-TS-ChatGPT")},V=()=>{S(()=>{w.value&&He(w.value)})},se=()=>{window.location.reload()},ce=()=>{o.deleteChatRecord().then(()=>{console.log("Chat records deleted successfully!")}),c.value=$},de=async()=>{const n=await o.getChatRecord();n&&(c.value=n,V())};return fe(c.value,()=>{S(()=>{oe.value||V()})}),he(()=>{S(()=>{Z()})}),ve(()=>{l()===""&&(_.value=!0),H(),de(),q(),Z()}),(n,i)=>{const x=U("RefreshRight"),f=U("DeleteFilled");return d(),m(N,null,[a("div",Ye,[a("div",Ue,[Ge,r(T)?I("",!0):(d(),m("div",$e," \u53EF\u4EE5\u547C\u5524\u795E\u5947\u6D77\u87BA\uFF0C\u795E\u5947\u6D77\u87BA\u4F1A\u5E2E\u4F60\u89E3\u51B3\u95EE\u9898 ")),r(T)?I("",!0):(d(),m("div",{key:1,class:"ml-4 my-auto cursor-pointer",onClick:re},Ze)),a("div",{class:"ml-auto text-sm cursor-pointer",onClick:ne},[p(r(C),{size:"large",type:"info",class:"elBtnStyle text-4xl"},{default:h(()=>[z("\u8BBE\u7F6E")]),_:1})])]),a("div",Xe,[a("div",{class:"m-6",ref_key:"chatListDom",ref:w},[(d(!0),m(N,null,O(c.value.filter(t=>t.role!=="system"),t=>(d(),m("div",null,[a("div",eo,ke(M[t.role])+"\uFF1A",1),t.content?(d(),m("div",{key:0,class:"text-base text-black whitespace-pre-wrap",innerHTML:r(Oe)(t.content.replace(/^\n\n/,""))},null,8,oo)):(d(),Y(Ne,{key:1}))]))),256))],512)],512),a("div",lo,[a("div",ao,[p(r(G),{class:"input",rows:1,type:"textarea",ref_key:"myInput",ref:u,modelValue:r(y),"onUpdate:modelValue":i[0]||(i[0]=t=>Q(y)?y.value=t:y=t),size:"large",onKeydown:i[1]||(i[1]=ye(t=>P(),["enter"])),disabled:r(K)},null,8,["modelValue","disabled"]),p(r(C),{onClick:i[2]||(i[2]=t=>P()),size:"large",type:"info",class:"elBtnStyle text-5xl ml-5"},{default:h(()=>[z("\u53D1\u9001")]),_:1}),r(T)?I("",!0):(d(),m("div",{key:0,class:"triangle ml-4 cursor-pointer",onClick:V},io)),a("div",{class:"triangle ml-4 cursor-pointer",onClick:se},[p(x)]),a("div",{class:"triangle ml-4 cursor-pointer",onClick:ce},[p(f)])])])]),p(r(Se),{modelValue:_.value,"onUpdate:modelValue":i[6]||(i[6]=t=>_.value=t),title:"\u8BBE\u7F6E",width:"80%",center:""},{footer:h(()=>[a("span",null,[p(r(C),{onClick:i[5]||(i[5]=t=>_.value=!1)},{default:h(()=>[z("\u5173\u95ED")]),_:1}),p(r(C),{type:"primary",onClick:ae,class:"fix-primary"},{default:h(()=>[z("\u4FDD\u5B58")]),_:1})])]),default:h(()=>[a("div",no,[a("div",ro,[so,p(r(G),{placeholder:"sk-xxxxxxxxxx",modelValue:r(b),"onUpdate:modelValue":i[3]||(i[3]=t=>Q(b)?b.value=t:b=t),size:"large",clearable:""},null,8,["modelValue"])]),a("div",co,[uo,p(r(ze),{size:"large",class:"w-full",modelValue:R.value,"onUpdate:modelValue":i[4]||(i[4]=t=>R.value=t)},{default:h(()=>[(d(!0),m(N,null,O(r(Qe),t=>(d(),Y(r(Ce),{key:t.id,label:t.id,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])]),_:1},8,["modelValue"])],64)}}});export{So as default};
